# Swagger & OpenApi 2.0

# NHN 오픈 API를 활용한 매시업

1. 오픈 API 개요

- 오픈소스: 이전에는 모든 것을 직접 개발했으나 오픈소스를 이용해 여러 사람들의 코드를 공유해서 소프트웨어로 만들 수 있게 됐다. (바퀴를 또 만들지 말라)
- 오픈 API: 오픈 API를 이용해 여러 서비스를 고융해서 더 빠르게 다양한 서비스를 만들 수 있게 됐다.
- 오픈 플랫폼: 오픈 플랫폼을 이용해 고도로 개인화된 서비스를 만들뿐더러 더 싸고 쉽게 운영, 판매할 수 있게 됐다.
- 오픈 API의 중심에는 Ajax(Asynchronous JavaScript and XML)가 있다. 
- Ajax는 문자 그대로 비동기 자바스크립트와 XML을 뜻한다.

2. 오픈 API 기술의 이해

- 오픈 API의 제공 형태는 웹 서비스, SDK(Software Development Kit), 인 서비스(In Service), 이렇게 세 가지 형태로 구분할 수 있다.
- 웹 서비스 형태 : 외부에서 정해진 프로토콜로 데이터를 주고받아 해당 서비스의 기능을 외부에서 독립적으로 쓸 수 있게 개방한 형태다.
- XML, JSON 등의 데이터 포맷으로 데이터를 실어 HTTP, SOAP 등의 프로토콜로 데이터를 전달하고 작업을 요청하고 결과를 받는다.
- SDK 형태 : 오픈 API에 한 겹을 더해 여러 프로그래밍 언어에서 쉽게 쓸 수 있도록 제공하는 라이브러리 형태다.
- 화면 제어 기능이 필요하거나 프로토콜 자체를 직접 쓰기 어려울 때 사용 편의성을 높이고 구현 시 간과할 수 있는 보안 위협을 줄이기 위해 이러한 형태로 제공한다.
- 구글의 지도 자바스크립트 라이브러리나 증권사의 HTS SDK가 대표적인 SDK 형태의 오픈 API다.
- 인 서비스 형태 : 해당 서비스가 제공하는 컨테이너 위에서만 동작하는 기능을 자바스크립트 SDK를 사용해 오픈 API로 제공하는 형태다.
- 앞에서 설명한 두 형태와는 달리 외부에서 독립적으로 사용할 수 없고 해당 서비스의 컨테이너에 의해서만 사용할 수 있다.
- 대표적인 예로 페이스북 앱스를 들 수 있다. 네이버 쇼셜게임 역시 인 서비스 방식으로 제공된다.
- 네이버 검색과 미투데이 오픈 API는 웹 서비스 형태
- 네이버 지도 오픈 API는 SDK 형태
- 소셜게임은 인 서비스 형태
- 오픈 API의 핵심 기술 세 가지
- OAUTH 인증 : 네이버, 구글, 페이스북, 트위터같이 오픈 API를 제공하는 플랫폼 회사에서는 인증 API를 제공한다.
- 데이터 포맷(What) JSON과 XML : 데이터 포맷은 데이터를 기술하는 방식을 뜻하고 프로토콜은 동작을 수행하기 위한 규칙을 뜻한다.
- 그런데 데이터 포맷과 프로토콜을 혼동하는 경우가 종종 있다. 데이터 포맷 내에서 전송할 데이터와 함께 동작 수행을 위한 파라미터를 넣는 경우도 많기 때문이다.
- 데이터 포맷과 프로토콜은 무엇(What)과 어떻게(How)로 구별하는 것이 가장 간단한다.
- 무엇을 전달하기 위해 데이터 포맷을 사용하고, 전달하는 데이터를 어떻게 처리해야 할지를 프로토콜이 결정한다고 이해하면 좋을 것이다.
- JSON(JavaScript Object Notation) : 자바스크립트 객체로 바로 쓸 수 있다. **
- XML(eXtensible Markup Language) : JSON에 비해 다양한 데이터 형을 표현할 수 있고, 구조를 검증할 수 있다.
- 데이터 전송보다는 다양한 표현 형태가 필요한, 규격화되고 구조적인 문서를 나타내기에 더욱 적합한 형태다.
- 페이스북의 오픈 그래프에서도 그래프의 노드가 되려면 해당 웹 페이지 내에서 XML 형태로 문서 속성을 기술해야 한다.
- 오픈 API에서 사용되는 데이터 포맷으로는 XML보다 JSON이 더 보편화 되고 있다.
- JSON은 브라우저 내에서 자바스크립트로 쉽게 쓸 수 있다는 강점이 있다.
- 그뿐만 아니라 Node.js 등과 같은 서버 측 자바스크립트 기술이 등장했고 대표적인 NoSql 솔루션인 MongoDB에서도 JSON을 기본 질의와 결과 형태로 지원하고 있다.
- 프로토콜(How) REST
- REST(Representational State Transfer)의 뜻을 문자 그대로 보면 '나타난 상태의 전송'이다.
- REST에서 모든 자원은 URL로 식별할 수 있다.
- 오픈 API를 사용하는 클라이언트 측에서는 그 URL에 있는 자원의 상태를 조작하거나 받아 쓸 수 있다는 의미다.
- 이러한 접근 방식은 RPC(Remote Procedure Call)와 비교할 때 더욱 도드라진다.
- RPC는 말 그대로 원격의 함수를 호출한다.
- 즉, 어떤 자원의 인스턴스에 접근하는 것이 아니라 함수에 파라미터를 넘기고 결과를 받는다는 뜻으로 REST와는 근본적으로 접근 방식이 다르다.

3. 오픈 API 지향 아키텍처

- 서버는 데이터와 조작을 위한 기능만 제공하고 그 밖에 화면을 구성하는 모든 것들을 클라이언트가 구성하는 아키텍처를 오픈 API 지향 아키텍처라고 한다.

# RPC 와 API

1. https://mindock.github.io/network/rest-rpc/

# RPC vs API vs GraphQL

1. http://engineersinkorea.com/2020/08/08/rpc-vs-rest-vs-graphql/

# REST API

1. https://ijbgo.tistory.com/20