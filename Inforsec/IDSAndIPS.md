# IDS and IPS

침입탐지시스템(IDS)의 침입탐지 정책

1. 미리 등록된 패턴을 기반으로 이상행위를 탐지하는 기법

오용탐지 or 지식기반탐지

2. 정상행위와 이상행위를 프로파일링하여 통계적인 방법으로 이상행위를 탐지하는 기법은?

이상탐지 or 행위기반 탐지

3. 정상행위를 이상행위로 판단하거나 이상행위를 탐지하지 못하는 상황은?

오탐 or 미탐


IDS는 내부 트래픽에 대하여 미러 방식으로 사용하고, IPS는 인라인 방식으로 외부와 내부 접점에 배치하여 사용하는 이유?

IPS는 실시간 차단을 목적으로 하기 때문에 인라인 방식으로 구성되어야 하며, 외부에서의 악의적인 침입 시도를 차단하는 데 포커스를 두어 내부와 외부의 접점에 배치하는 것이 좋다. IPS를 내부망에 배치하여 운영하는 경우 오탐으로 인하여 네트워크에 문제가 발생할 수 있으므로, 내부망에는 침입 탐지를 목적으로 하는 IDS를 배치하는 것이 좋다. IDS는 포트 미러링 방식으로 업무 데이터 흐름에 영향을 주지 않고 패킷을 분석하여 침입 여부를 탐지할 수 있기 때문이다. 참고로, IPS는 장애 시 업무에 영향을 줄 수 있으므로 bypass 기능을 지원해야 한다.

4. 

```

 https://didimdol20.tistory.com/61

네트워크 기반 (NIDS)

- 네트워크 세그먼트당 하나의 감지기만 설치하면 되므로 설치 용이 

- 네트워크를 통해 전송되는 정보(패킷 헤더, 데이터 및 트래픽 양, 응용프로그램

로그)를 분석하여 침입여부 판단.

- NIDS는 감지기가 promisecuous mode에서 동작하는 네트워크 인터페이스에 설치됨

 

장점 

1. 트래픽을 몇몇 위치에만 설치하므로 초기 구축 비용이 저렴

2. 운영체제에 독립적이므로 구현 및 관리 쉬움

3. 캡처된 트래픽에 대해 침입자가 제거하기가 어려움.

4. 네트워크에서 발생하는 여러 유형의 침입을 탐지

5. 네트워크에서 개별 실행되어 개별 서버의 성능 저하가 없음.

 

단점

1. 암호화된 패킷을 분석할 수 없음

2. 고속 네트워크 환경에서는 패킷 손실률이 많아 탐지율이 떨어짐

3. 호스트 상에서 수행되는 세부 행위에 대해 탐지할 수 없음

4. 오탐률이 높음(False Positive)

 

 

 

호스트 기반(HIDS)

- 서버에 직접 설치하므로 네트워크 환경과 무관

- 호스트 시스템으로부터 생성되고 수집된 감사 자료(시스템 이벤트)를 침입

탐지에 사용하는 시스템

- 여러 호스트로부터 수집된 감사 자료를 이용할 경우 다중 호스트 기반이라고도 씀

 

장점

1. 정확한 탐지 가능, 침입 방지 가능 다양한 대응책 수행

2. 암호화 및 스위칭 환경에 적합

3. 추가적인 하드웨어가 필요하지 않음.

4. 트로이 목마, 백도어, 내부 사용자에 의한 공격 탐지 가능

 

단점

1. 각각의 시스템마다 설치해야 하므로 다양한 OS를 지원해야 함.

2. 해커에 의한 로그 자료의 변조 가능성 존재 및 DOS 공격으로 IDS 무력화 가능

3. 구현이 용이하지 않음.

4. 호스트 성능에 의존적이며, 리소스 사용으로 서버 부하 발생


 NIDS 위치

1. 패킷이 라우터로 들어오기 전 : 모든 공격을 탐지할 수 있지만 네트워크에

치명적인 공격에는 대처가 어렵다는 단점이 존재

 

2. 라우터 뒤 : 패킷 필터링을 거친 후의 패킷 탐지, 좀 더 강력한 의지가 있는

공격자 탐지 가능.

 

3. 방화벽 뒤 : 만약 침입 탐지 시스템을 설치한다면 이곳에 설치해야 함.

만약 한대만 설치할 수 있다면 이곳에 설치해야 함.

 

4. 내부 네트워크 : 방화벽은 침입을 일차적으로 차단하지만 내부에 대해서는

무방비 상태

 

5. DMZ : 아주 능력이 뛰어난 외부 공격자와 내부 공격자에 의해 중요 데이터

손실이나 서비스 중단을 막기 위함

 

설치 우선순위로는 3 -> 5 -> 4 -> 2 -> 1
```