# OSI 7Layer

https://beankhan.tistory.com/68

![20201201171833](https://user-images.githubusercontent.com/6989005/100714612-5b813600-33f9-11eb-803c-5d773605023a.png)

스위치 환경에서의 스니핑 공격 기법

1. 스위치 재밍/MAC Flooding 공격
Fail Open 정책(장애가 발생 시 모든 트래픽을 허용)
2. ARP 스푸핑 공격
공격자가 특정 호스트의 MAC 주소를 자신의 MAC 주소로 위조한 ARP Reply 패킷을 만들어 희생자에게 지속적으로 전송하면 희생자의 ARP Cache Table에 특정 호스트의 MAC 정보가 공격자의 MAC 정보로 변경된다. 이를 통해서 특정호스트로 나가는 패킷을 공격자로 향하도록 하여 스니핑하는 기법
희생자들이 스니핑을 인식하지 못하고 정상적인 통신이 될 수 있도록 IP Forward기능을 활성화한다.
3. ARP 리다이렉트 공격
공격자가 자신이 라우터/게이트웨이인 것처럼 MAC주소를 위조하여 ARP Reply 패킷을 대상 네트워크에 지속적으로 브로드캐스트하면 해당 로컬 네트워크의 모든 호스트의 ARP Cache Table에 라우터/게이트웨이의 MAC 정보가 공격자의 MAC 정보로 변경이 된다.
이를 통해 호스트에서 라우터로 나가는 패킷을 공격자가 스니핑하는 기법이다.
희생자들이 스니핑을 인식하지 못하고 정상적인 통신이 될 수 있도록 IP Forward기능을 활성화한다.
4. ICMP 리다이렉트 공격
ICMP Redirection 메시지는 호스트-라우터 또는 라우터 간에 라우팅 경로를 재설정하기 위해 전송하는 메시지이다.
공격자가 이를 악용하여 특정 IP 또는 IP 대역으로 나가는 패킷의 라우팅 경로를 자신의 주소로 위조한 ICMP Redirect 메시지를 생성하여 희생자에게 전송함으로써 희생자의 라우팅 테이블을 변조하여 패킷을 스니핑하는 공격기법이다.
5. 스위치의 SPAN/Port Mirroring 기능 이용