# 방화벽 관련 내용

https://ohs-o.tistory.com/86

1. 패킷 필터링(Packet Filtering)

- 패킷 필터링은 OSI 7계층에서 네트워크 계층과 전송 계층에서 동작한다.

- 해당 계층의 데이터를 가지고 인바운드와 아웃바운드 서비스를 제공하는 것으로 네트워크 계층에서는 IP 주소,

- 전송 계층에서는 Port 주소와 TCP, UDP의 프로토콜 종류에 대한 데이터를 얻을 수 있다.

- 해당 데이터들을 바탕으로 방화벽 정책을 세워 패킷을 필터링 한다.

2. 애플리케이션 게이트웨이(Application Gateway)

- 애플리케이션 계층에서 동작하는 방화벽이다.

- 애플리케이션 계층에서 동작하는 만큼 로그에서 다양한 정보를 얻을 수 있으며 여러 유용한 기능들을 추가할 수 있다.

- 애플리케이션 게이트웨이는 Proxy Daemon을 이용하여 각 프로토콜을 개별적으로 관리할 수 있는 그래서 Proxy Gateway라고도 한다.

- 여기서 프록시(Proxy)는 특정 작업을 수행하기 위해 가상의 객체를 만들어서 부가적인 작업을 수행할 수 있게 해주는 것이다.

- Proxy를 통해서 연결이 허용되므로 내부 IP 주소를 숨길 수 있다.

3. 회선 게이트웨이(Circuit Gateway)

- 회선 게이트웨이는 애플리케이션 계층과 세션 계층 사이에서 동작한다.

- 앞의 애플리케이션 게이트웨이에서 좀 더 수월한 관리를 위해 사용되며 똑같이 프록시를 이용한 필터링을 진행한다.

4. 상태 기반 패킷 검사(Stateful Packet Inspection)

- 방화벽 중 가장 강력한 것으로 OSI의 모든 계층에서 패킷을 분석하여 차단하는 기능을 한다.

- 패킷 필터링 방식에서 세션 추적 기능이 추가되었으며 패킷의 헤더 내용을 해석하여 정책에 위배되는 패킷은 차단해버린다.

- 패킷 필터링의 기술을 사용하여 클라이언트 서버/모델을 유지하면서 모든 계층의 전후 상황에 대한 문맥 데이터를 제공하여 기존 방화벽의 한계를 극복했다.

- 이러한 상태 기반 패킷 검사에서 한 단계 더 발전한 형태가 심층 패킷분석(Deep Packet Inspection)이다.

- 심층 패킷 분석은 패킷이 가지고 있는 콘텐츠까지 모두 검사하여 다양한 콘텐츠를 식별하고 분석할 수 있는 강력한 침입 차단 시스템이다.

- OSI 전 계층에 대해서 접근 통제도 할 수 있다.

5. 혼합형 타입(Hybrid type)

- 서비스 종류에 따라 복합적으로 구성하는 것이다.

# 방화벽 시스템 구축 유형

1. 스크리닝 라우터 (네트워크 + 전송 계층) - 패킷 필터링 기능

- 인터넷 <=> 라우터 <=> 개인 네트워크

2. 배스천 호스트 (애플리케이션 계층)

- 내부 네트워크 <=> 배스천 호스트 <=> 인터넷

3. 듀얼 홈드 호스트 (배스천 호스트는 라우팅 기능을 제공하지 않아 내/외부 네트워크 간 직접적인 연결을 막는다. 해당 부분을 해결하기 위해서는 응용 계층의? Proxy 서버를 이용한다.)

- 내부 네트워크 <=> 배스천 호스트 1, 배스천 호스트 2 <=> 인터넷

4. 스크린드 호스트 게이트웨이

- 내부 네트워크 <=> 배스천 호스트 1, 배스천 호스트2 <=> 라우터 <=> 인터넷
 
5. 스크린드 서브넷 게이트웨이

- 내부 네트워크 <=> 라우터 <=> 배스천 호스트 1, 배스천 호스트 2 <=> 라우터 <=> 인터넷
 
# IPSEC

# Snort

# Iptable

# Apache 설정

# Password

# 리눅스 명령어

