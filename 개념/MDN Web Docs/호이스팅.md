# 호이스팅

1. https://developer.mozilla.org/ko/docs/Glossary/Hoisting

1. JavaScript에서 호이스팅(Hoisting)이란, 인터프리터가 변수와 함수의 메모리 공간을 선언 전에 미리 할당하는 것을 의미한다.

2. var로 선언한 변수의 경우 호이스팅 시 undefined로 변수를 초기화한다.

3. 반면 let과 const로 선언한 변수의 경우 호이스팅 시 변수를 초기화하지 않는다.

4. 호이스팅을 설명할 땐 주로 "변수의 선언과 초기화를 분리한 후, 선언만 코드의 최상단으로 옮기는 것" 으로 말하곤 한다.

5. 따라서 변수를 정의하는 코드보다 사용하는 코드가 앞서 등장할 수 있다.

6. 다만 선언과 초기화를 함께 수행하는 경우, 선언 코드까지 실행해야 변수가 초기화된 상태가 됨을 주의하라.

# 기술 예제

1. JavaScript는 함수의 코드를 실행하기 전에 함수 선언에 대한 메모리부터 할당한다.

2. 덕분에 함수를 호출하는 코드를 함수 선언보다 앞서 배치할 수 있다.

```

function catName(name) {
    console.log("고양이 이름은" + name + "입니다.");
}

catName("호랑이");

// 고양이 이름은 호랑이입니다.

catName("클로이");

function catName(name) {
    console.log("고양이 이름은" + name + "입니다.");
}

// 고양이 이름은 클로이입니다.

```

3. 함수 호출이 함수 자체보다 앞서 존재하지만, 그럼에도 불구하고 이 코드 역시 동작한다.

4. 이것이 JavaScript에서 실행 맥락이 동작하는 방식이다.

5. 호이스팅은 다른 자료형과 변수에도 잘 작동한다.

6. 변수를 선언하기 전에 먼저 초기화하고 사용할 수 있다.

# 선언만 호이스팅 대상

1. JavaScript는 초기화를 제외한 선언만 호이스팅한다.

2. 변수를 먼저 사용하고 그 후에 선언 및 초기화가 나타나면, 사용하는 시점의 변수는 기본 초기화 상태(var 선언 시 undefined, 그 외에는 초기화하지 않음)이다.

```

console.log(num); // 호이스팅한 var 선언으로 인해 undefined 출력
var num; // 선언
num = 6; // 초기화

```

```

호이스팅 하다?!

위 소스는 아래와 같다.

var num; // 선언만 코드의 최상단으로 올리는 것
console.log(num);
num = 6;

```

3. 반면, 다음 예제는 선언 없이 초기화만 존재한다. 따라서 호이스팅도 없고, 변수를 읽으려는 시도에서는 ReferenceError 예외가 발생한다.

```

console.log(num); //ReferenceError
num = 6; //초기화

```

# let과 호이스팅

1. let과 const로 선언한 변수도 호이스팅 대상이지만, var와 달리 호이스팅 시 undefined로 변수를 초기화하지는 않는다.

2. 따라서 변수의 초기화를 수행하기 전에 읽는 코드가 먼저 나타나면 예외가 발생한다.