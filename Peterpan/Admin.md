# 어드민 자바 페이지 수정

1. 정렬 리스트 원하는 형태로 구축하기

- 기존 정렬은.. 데이터베이스에서 조인된 컬럼을 바탕으로 날짜별 ASC정렬을 해서 데이터를 뽑앗지만

- 해당 프로덕트 IDX를 기준으로 데이터를 삽입하면서 날짜 기준으로 정렬된 부분이 정상적으로 적용되지 않았다.

- 해서 키를 날짜로 변경하고 해당 날짜에 대해 데이터를 삽입하고 데이터를 받아오면서

- 역순으로 정렬되는 부분을 해결하기 위해 keySet을 다시 역순으로 정렬하는 Collections(keys, Collections.reverseOrder()) 를 통해 해결하였다.

2. 해당 리스트를 정렬하면서 상단부에 프로덕트 키를 바탕으로 데이터를 뿌려주는 부분이 있었는데..

- 이 부분이 기존에도 제대로 통합되지 않았지만 현재는 날짜순으로 정렬되어 더 많은 리스트가 나오기 시작했다. 이 부분을 프로덕트 키로 group by해서 보여주려면?

- 해당 리스트는 adTop 으로 확인.. 해당 리스트는 Ptype으로 보여주고 있었는데 중복을 제거해서 보여주면 되기 때문에 set을 사용해서 재정렬하는 게 나을 것 같다.

- 기존 보여주는 항목들을 키에서 해당 리스트들을 다 뽑은 다음에.. 그 키를 바탕으로 만들었다면

- 나는 그 부분을 처음에 해쉬맵에 저장한 다음 해쉬맵을 엔트리형태로 변환하여 보여주는 방식으로 바꿨다.

- 해당 부분은 정상적으로 보였지만 리스트를 클릭했을 때 보이는 부분이 Jquery 클래스와 연동되어 해당 클래스랑 매칭되는 아이템들을 block, none 처리해서 보여주는 부분이 있었다.

- 그래서 이 부분을 다시 수정해봄.. listDom의 클래스 이름을 키가아닌 상품명으로

- 안된다.. 이유는 결국 키 값으로 리스트를 보여줘야 하는데 위에는 상품명으로 보여주고 밑에는 리스트로 보여주는 상황이 생겨서 이 부분에 대한 처리가 불가능했다. 

- 차라리 맨 처음으로 돌아가서 해당 프로덕트 아이디엑스를 바탕으로 데이터를 가져오는 형태에서 날짜로 재 정렬하는 방법을 고민해보는 게 더 좋을 것 같다.

- 프로덕트 IDX대신에 프로덕트 네임을 사용하여 그룹핑 했지만, 네이버 프로모션 같은 경우는 네임도 다 달라 이 부분에 대한 처리가 불가 하였다.

- 이 부분이 그룹핑이 꼭 필요하다면 릴레이션 or 필드를 하나 추가하여 해당 그룹 네임을 설정해서 보여주는 방법도 고려해볼만 하다.